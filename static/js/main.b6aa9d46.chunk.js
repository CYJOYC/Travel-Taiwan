(this["webpackJsonptravel-taiwan"]=this["webpackJsonptravel-taiwan"]||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(19),o=n.n(c),s=(n(26),Object(i.createContext)(["all",function(){}])),u=n(7),d=n(9),r=n(2),j=n(1);var m=function(){var e=Object(i.useContext)(s),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.d)();return Object(i.useEffect)((function(){var e=c.pathname.replace("/scenicSpot","");a(e)}),[c]),Object(j.jsx)(d.a,{children:Object(j.jsx)("div",{className:"city-nav",children:[{id:"",name:"\u6240\u6709\u7e23\u5e02"},{id:"/Taipei",name:"\u53f0\u5317\u5e02"},{id:"/NewTaipei",name:"\u65b0\u5317\u5e02"},{id:"/Taoyuan",name:"\u6843\u5712\u5e02"},{id:"/Taichung",name:"\u53f0\u4e2d\u5e02"},{id:"/Tainan",name:"\u53f0\u5357\u5e02"},{id:"/Kaohsiung",name:"\u9ad8\u96c4\u5e02"},{id:"/Keelung",name:"\u57fa\u9686\u5e02"},{id:"/Hsinchu",name:"\u65b0\u7af9\u5e02"},{id:"/HsinchuCounty",name:"\u65b0\u7af9\u7e23"},{id:"/MiaoliCounty",name:"\u82d7\u6817\u7e23"},{id:"/ChanghuaCounty",name:"\u5f70\u5316\u7e23"},{id:"/NantouCounty",name:"\u5357\u6295\u7e23"},{id:"/YunlinCounty",name:"\u96f2\u6797\u7e23"},{id:"/ChiayiCounty",name:"\u5609\u7fa9\u7e23"},{id:"/Chiayi",name:"\u5609\u7fa9\u5e02"},{id:"/PingtungCounty",name:"\u5c4f\u6771\u7e23"},{id:"/YilanCounty",name:"\u5b9c\u862d\u7e23"},{id:"/HualienCounty",name:"\u82b1\u84ee\u7e23"},{id:"/TaitungCounty",name:"\u53f0\u6771\u7e23"},{id:"/KinmenCounty",name:"\u91d1\u9580\u7e23"},{id:"/PenghuCounty",name:"\u6f8e\u6e56\u7e23"},{id:"/LienchiangCounty",name:"\u9023\u6c5f\u7e23"}].map((function(e){return Object(j.jsx)(d.b,{className:n===e.id?"item-active city-item":"city-item",to:"/scenicSpot"+e.id,onClick:function(){a(e.id)},children:e.name},e.id)}))})})},l=n(17),b=n(21),O=function(){var e=Object(i.useContext)(s),t=Object(u.a)(e,1)[0],n=Object(i.useState)("0"),a=Object(u.a)(n,2),c=a[0],o=a[1],d=Object(i.useState)([]),r=Object(u.a)(d,2),m=r[0],O=r[1],h=Object(i.useState)(!1),f=Object(u.a)(h,2),p=f[0],v=f[1],C=Object(i.useState)(!1),g=Object(u.a)(C,2),x=g[0],y=g[1],N=Object(i.useState)(!0),S=Object(u.a)(N,2),T=S[0],w=S[1],P=function(e){T&&fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot"+t+"?$top=30&$skip="+e+"&$format=JSON").then((function(e){return e.json()})).then((function(e){O([].concat(Object(l.a)(m),Object(l.a)(e))),y(!1),e.length<30&&w(!1)})).catch(console.error)};Object(i.useEffect)((function(){!0===p&&(P(c),v(!1))}),[p]),Object(i.useEffect)((function(){O([]),o("0"),w(!0),v(!0)}),[t]);var k=Object(b.a)({loading:x,hasNextPage:T,onLoadMore:function(){if(T){y(!0);var e=String(parseInt(c)+30);o(e),P(e)}},scrollContainer:"window"});return Object(j.jsxs)("div",{className:"spots-list-background",ref:k,children:[0===m.length?Object(j.jsx)("div",{className:"loading",children:"\u666f\u9ede\u4e0b\u8f09\u4e2d"}):Object(j.jsx)("div",{id:"spots-list",children:m.map((function(e){return Object(j.jsxs)("div",{className:"spot-item",children:[Object(j.jsx)("div",{className:"spot-item-name",children:e.Name}),Object(j.jsx)("div",{className:"spot-item-description",children:void 0===e.Description?"\u66ab\u7121\u666f\u9ede\u4ecb\u7d39":e.Description})]},e.ID)}))}),Object(j.jsx)("div",{className:"load-more",children:x?"\u4e0b\u8f09\u66f4\u591a\u666f\u9ede\u4e2d...":""}),Object(j.jsx)("div",{className:"no-more",children:T?"":"\u5df2\u7121\u5176\u4ed6\u666f\u9ede"})]})};var h=function(){var e=Object(i.useState)("");return Object(j.jsxs)(s.Provider,{value:e,children:[Object(j.jsx)(m,{}),Object(j.jsx)(O,{})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(h,{})})}),document.getElementById("root")),f()}},[[33,1,2]]]);
//# sourceMappingURL=main.b6aa9d46.chunk.js.map